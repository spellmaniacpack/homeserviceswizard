---
import "@fontsource-variable/inter";
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";
import Footer from "~/components/footer.astro";
import Header from "~/components/header.astro";
import logoImage from "~/assets/logo.png";
import handymanHero from "~/assets/handyman-hero.png";
import "~/styles/index.css";

const { generator } = Astro;
const description =
  "Get comprehensive Plumber Insurance in Arizona. Specialized coverage for plumbing contractors including water damage liability, tools coverage, and more. Fast quotes!";

const coverageTypes = [
  {
    title: "General Liability Insurance",
    description: "Essential protection for plumbers against third-party claims for property damage, especially water damage from plumbing work.",
    icon: "mdi:shield-home",
    details: ["Water damage coverage", "Property damage up to $2M", "Bodily injury coverage", "Completed operations"],
  },
  {
    title: "Workers' Compensation",
    description: "Required coverage for Arizona plumbing contractors with employees. Protects against work-related injuries and illnesses.",
    icon: "mdi:account-injury",
    details: ["Medical expenses", "Back & knee injuries", "Chemical exposure", "Rehabilitation costs"],
  },
  {
    title: "Commercial Auto Insurance",
    description: "Protect your plumbing service vehicles, pipe trailers, and equipment in transit throughout Arizona.",
    icon: "mdi:truck",
    details: ["Service van coverage", "Equipment in transit", "Liability protection", "Roadside assistance"],
  },
  {
    title: "Professional Liability (E&O)",
    description: "Covers claims arising from faulty workmanship, code violations, or system failures after installation.",
    icon: "mdi:certificate",
    details: ["Design errors", "Installation defects", "Code violations", "Legal defense"],
  },
  {
    title: "Tools & Equipment Coverage",
    description: "Specialized coverage for expensive plumbing tools including pipe cutters, inspection cameras, and jetters.",
    icon: "mdi:pipe-wrench",
    details: ["Inspection cameras", "Pipe cutters", "Drain machines", "Testing equipment"],
  },
  {
    title: "Inland Marine Coverage",
    description: "Protects your plumbing equipment and materials while being transported to job sites across Arizona.",
    icon: "mdi:package-variant",
    details: ["Materials in transit", "Stored equipment", "Job site coverage", "Theft protection"],
  },
];

const benefits = [
  { icon: "mdi:clock-fast", text: "Quotes in minutes" },
  { icon: "mdi:certificate", text: "COI same day" },
  { icon: "mdi:cash-multiple", text: "Flexible payments" },
  { icon: "mdi:pipe-wrench", text: "Plumbing specialists" },
];

const faqs = [
  {
    question: "Is plumber insurance required in Arizona?",
    answer: "Yes. Arizona requires plumbing contractors to hold an ROC (Registrar of Contractors) license, which mandates general liability insurance. Additionally, workers' compensation is required if you have employees. Most commercial and residential clients also require proof of insurance.",
  },
  {
    question: "How much does plumber insurance cost in Arizona?",
    answer: "Plumber insurance in Arizona typically costs $1,200-$4,000 annually for general liability, depending on your revenue, number of employees, and coverage limits. Water damage claims can be expensive, so adequate coverage is essential.",
  },
  {
    question: "Does plumber insurance cover water damage I cause?",
    answer: "Yes, your general liability insurance covers water damage caused to a client's property during your work. This is one of the most common claims for plumbers, which is why adequate limits are important.",
  },
  {
    question: "What if my employee gets injured on the job?",
    answer: "Workers' compensation insurance covers medical expenses, lost wages, and rehabilitation for employees injured on the job. This is required in Arizona if you have any employees.",
  },
  {
    question: "Do I need insurance to get my Arizona plumbing license?",
    answer: "Yes, the Arizona Registrar of Contractors (ROC) requires proof of general liability insurance to obtain and maintain your plumbing contractor license.",
  },
];

const arizonaCities = [
  "Phoenix", "Tucson", "Mesa", "Chandler", "Scottsdale", "Glendale", 
  "Gilbert", "Tempe", "Peoria", "Surprise", "Yuma", "Flagstaff"
];

const plumbingServices = [
  "Residential Plumbing",
  "Commercial Plumbing",
  "Drain Cleaning",
  "Water Heater Install",
  "Pipe Repair/Replace",
  "Sewer Line Service",
  "Fixture Installation",
  "Emergency Plumbing"
];
---

<!doctype html>
<html lang="en" class="h-full motion-safe:scroll-smooth" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <meta name="generator" content={generator} />

    <title>Plumber Insurance Arizona | Get a Free Quote | Home Services Wizard</title>
    <meta name="description" content={description} />
    <meta name="keywords" content="plumber insurance Arizona, plumbing contractor insurance Phoenix, plumber liability insurance, Arizona plumber coverage, water damage insurance" />

    <!-- Open Graph -->
    <meta property="og:title" content="Plumber Insurance Arizona - Fast Quotes, Great Rates" />
    <meta property="og:type" content="website" />
    <meta property="og:description" content={description} />
    <meta property="og:url" content="https://homeserviceswizard.com/plumber" />
    <meta name="twitter:card" content="summary_large_image" />

    <!-- Local Business Schema -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "InsuranceAgency",
        "name": "Home Services Wizard - Plumber Insurance",
        "description": "Plumber insurance provider specializing in Arizona plumbing contractors",
        "areaServed": "Arizona",
        "url": "https://homeserviceswizard.com/plumber"
      }
    </script>

    <script is:inline>
      const themeSaved = localStorage.getItem("theme");
      if (themeSaved) {
        document.documentElement.dataset.theme = themeSaved;
      } else {
        const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
        document.documentElement.dataset.theme = prefersDark ? "dark" : "light";
      }
    </script>
  </head>
  <body class="h-full overflow-x-hidden bg-default text-default text-base selection:bg-secondary selection:text-white">
    <Header />
    
    <!-- Hero Section -->
    <section class="relative min-h-screen bg-gradient-to-br from-slate-900 via-cyan-900/30 to-slate-900 flex items-center overflow-hidden">
      <div class="absolute inset-0 overflow-hidden">
        <div class="absolute top-20 right-10 w-72 h-72 bg-cyan-500/20 rounded-full blur-3xl animate-pulse"></div>
        <div class="absolute bottom-20 left-10 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl animate-pulse" style="animation-delay: 1s;"></div>
      </div>
      
      <div class="relative z-10 max-w-7xl mx-auto px-6 py-20 grid lg:grid-cols-2 gap-12 items-center">
        <div>
          <div class="flex items-center gap-3 mb-6">
            <Image src={logoImage} alt="Home Services Wizard" class="w-12 h-12" width={48} height={48} />
            <span class="text-cyan-400 font-semibold">Home Services Wizard</span>
          </div>
          
          <div class="inline-flex items-center gap-2 px-4 py-2 bg-cyan-500/20 rounded-full text-cyan-400 text-sm font-medium mb-6">
            <Icon name="mdi:pipe-wrench" class="w-4 h-4" />
            Arizona Plumber Specialists
          </div>
          
          <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold text-white mb-6 leading-tight">
            <span class="text-cyan-400">Plumber</span>
            <br />
            <span class="text-amber-400">Insurance</span>
            <br />
            Built for Arizona Pros
          </h1>
          
          <p class="text-xl text-gray-300 mb-8 leading-relaxed">
            Protect your plumbing business with comprehensive coverage tailored for 
            Arizona. Get insured in minutes and focus on what you do best.
          </p>
          
          <div class="flex flex-wrap gap-4 mb-8">
            {benefits.map((benefit) => (
              <div class="flex items-center gap-2 text-gray-300 text-sm">
                <Icon name={benefit.icon} class="w-5 h-5 text-green-400" />
                <span>{benefit.text}</span>
              </div>
            ))}
          </div>

          <!-- Lead Capture Form -->
          <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20">
            <h3 class="text-xl font-bold text-white mb-4">Get Your Free Quote</h3>
            <form id="quote-form" class="space-y-4">
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm text-gray-300 mb-1">Full Name *</label>
                  <input 
                    type="text" 
                    name="fullName"
                    required
                    class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-400 transition"
                    placeholder="John Smith"
                  />
                </div>
                <div>
                  <label class="block text-sm text-gray-300 mb-1">Phone Number *</label>
                  <input 
                    type="tel" 
                    name="phone"
                    required
                    class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-400 transition"
                    placeholder="(602) 888-9289"
                  />
                </div>
              </div>
              <div>
                <label class="block text-sm text-gray-300 mb-1">Email Address *</label>
                <input 
                  type="email" 
                  name="email"
                  required
                  class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-400 transition"
                  placeholder="john@example.com"
                />
              </div>
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm text-gray-300 mb-1">Business Name</label>
                  <input 
                    type="text" 
                    name="businessName"
                    class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-400 transition"
                    placeholder="Smith Plumbing LLC"
                  />
                </div>
                <div>
                  <label class="block text-sm text-gray-300 mb-1">Arizona City *</label>
                  <select 
                    name="city"
                    required
                    class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:border-cyan-400 transition"
                  >
                    <option value="" class="bg-gray-900">Select your city</option>
                    {arizonaCities.map((city) => (
                      <option value={city} class="bg-gray-900">{city}</option>
                    ))}
                    <option value="other" class="bg-gray-900">Other Arizona City</option>
                  </select>
                </div>
              </div>
              <div>
                <label class="block text-sm text-gray-300 mb-1">Annual Revenue</label>
                <select 
                  name="revenue"
                  class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:border-cyan-400 transition"
                >
                  <option value="" class="bg-gray-900">Select range</option>
                  <option value="0-100k" class="bg-gray-900">Under $100,000</option>
                  <option value="100k-250k" class="bg-gray-900">$100,000 - $250,000</option>
                  <option value="250k-500k" class="bg-gray-900">$250,000 - $500,000</option>
                  <option value="500k-1m" class="bg-gray-900">$500,000 - $1,000,000</option>
                  <option value="1m+" class="bg-gray-900">$1,000,000+</option>
                </select>
              </div>
              <button 
                type="submit"
                class="w-full py-4 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white font-bold rounded-lg shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 hover:scale-[1.02] transition-all duration-300 flex items-center justify-center gap-2"
              >
                <Icon name="mdi:shield-check" class="w-5 h-5" />
                Get My Free Quote
              </button>
              <p class="text-xs text-gray-400 text-center">
                No obligation. Your information is secure and never shared.
              </p>
            </form>
          </div>
        </div>
        
        <div class="hidden lg:block relative">
          <div class="absolute inset-0 bg-gradient-to-t from-slate-900/80 to-transparent z-10 rounded-3xl"></div>
          <Image 
            src={handymanHero} 
            alt="Professional Plumber in Arizona" 
            class="rounded-3xl shadow-2xl shadow-cyan-500/20"
            width={600}
            height={600}
          />
          <div class="absolute bottom-8 left-8 right-8 z-20">
            <div class="bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20">
              <div class="flex items-center gap-4">
                <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center">
                  <Icon name="mdi:check" class="w-6 h-6 text-white" />
                </div>
                <div>
                  <p class="text-white font-semibold">Coverage Starting At</p>
                  <p class="text-2xl font-bold text-cyan-400">$37/month</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script is:inline>
      const form = document.getElementById('quote-form');
      form?.addEventListener('submit', async (e) => {
        e.preventDefault();
        const formData = new FormData(form);
        const data = Object.fromEntries(formData.entries());
        data.services = formData.getAll('services');
        const button = form.querySelector('button[type="submit"]');
        const originalText = button.innerHTML;
        
        button.disabled = true;
        button.innerHTML = 'Sending...';
        
        try {
          const response = await fetch('/api/submit-quote', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(data),
          });
          
          if (response.ok) {
            button.innerHTML = 'Quote Requested!';
            button.classList.remove('bg-gradient-to-r', 'from-cyan-500', 'to-cyan-600');
            button.classList.add('bg-green-600');
            form.reset();
            setTimeout(() => {
              button.disabled = false;
              button.innerHTML = originalText;
              button.classList.add('bg-gradient-to-r', 'from-cyan-500', 'to-cyan-600');
              button.classList.remove('bg-green-600');
            }, 5000);
          } else {
            throw new Error('Failed to send');
          }
        } catch (error) {
          console.error('Error:', error);
          button.innerHTML = 'Error. Please Try Again.';
          button.classList.add('bg-red-600');
          setTimeout(() => {
            button.disabled = false;
            button.innerHTML = originalText;
            button.classList.remove('bg-red-600');
          }, 3000);
        }
      });
    </script>

    <!-- Why Plumber Insurance Matters in Arizona -->
    <section class="py-24 px-8 bg-offset">
      <div class="max-w-6xl mx-auto">
        <div class="grid lg:grid-cols-2 gap-12 items-center">
          <div>
            <h2 class="text-3xl md:text-4xl font-extrabold mb-6">
              Why Arizona Plumbers <span class="text-primary">Need Specialized Coverage</span>
            </h2>
            <p class="text-lg text-offset mb-6 leading-relaxed">
              Arizona's unique desert environment presents special challenges for plumbers. 
              From hard water issues to aging infrastructure, your customers depend on 
              you for critical plumbing services. That's why you need insurance that 
              understands the Arizona plumbing industry.
            </p>
            <div class="space-y-4">
              <div class="flex items-start gap-4 p-4 bg-default rounded-xl border border-default">
                <div class="w-10 h-10 rounded-full bg-cyan-500/20 flex items-center justify-center">
                  <Icon name="mdi:water" class="w-5 h-5 text-cyan-500" />
                </div>
                <div>
                  <h4 class="font-semibold mb-1">Water Damage Liability</h4>
                  <p class="text-sm text-offset">Water damage is the #1 claim for plumbers. We ensure you're properly covered.</p>
                </div>
              </div>
              <div class="flex items-start gap-4 p-4 bg-default rounded-xl border border-default">
                <div class="w-10 h-10 rounded-full bg-amber-500/20 flex items-center justify-center">
                  <Icon name="mdi:pipe-leak" class="w-5 h-5 text-amber-500" />
                </div>
                <div>
                  <h4 class="font-semibold mb-1">Hard Water & Old Pipes</h4>
                  <p class="text-sm text-offset">Arizona's mineral-rich water leads to more repairs and potential liability.</p>
                </div>
              </div>
              <div class="flex items-start gap-4 p-4 bg-default rounded-xl border border-default">
                <div class="w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center">
                  <Icon name="mdi:home-city" class="w-5 h-5 text-green-500" />
                </div>
                <div>
                  <h4 class="font-semibold mb-1">Growing Market</h4>
                  <p class="text-sm text-offset">Arizona's booming construction means more opportunitiesâ€”and more liability.</p>
                </div>
              </div>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div class="p-6 bg-gradient-to-br from-cyan-500/20 to-cyan-600/20 rounded-2xl border border-cyan-500/20">
              <div class="text-4xl font-extrabold text-cyan-400 mb-2">85%</div>
              <p class="text-sm text-offset">of claims are water damage related</p>
            </div>
            <div class="p-6 bg-gradient-to-br from-amber-500/20 to-amber-600/20 rounded-2xl border border-amber-500/20">
              <div class="text-4xl font-extrabold text-amber-400 mb-2">$15K</div>
              <p class="text-sm text-offset">average water damage claim</p>
            </div>
            <div class="p-6 bg-gradient-to-br from-green-500/20 to-green-600/20 rounded-2xl border border-green-500/20">
              <div class="text-4xl font-extrabold text-green-400 mb-2">5,000+</div>
              <p class="text-sm text-offset">licensed plumbers in Arizona</p>
            </div>
            <div class="p-6 bg-gradient-to-br from-purple-500/20 to-purple-600/20 rounded-2xl border border-purple-500/20">
              <div class="text-4xl font-extrabold text-purple-400 mb-2">24/7</div>
              <p class="text-sm text-offset">emergency service demand</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Coverage Types Section -->
    <section id="coverage" class="py-24 px-8 bg-default">
      <div class="max-w-6xl mx-auto">
        <div class="text-center mb-16">
          <h2 class="text-3xl md:text-5xl font-extrabold mb-4">
            Complete <span class="text-primary">Plumber Coverage</span>
          </h2>
          <p class="text-xl text-offset max-w-2xl mx-auto">
            Comprehensive protection designed specifically for Arizona plumbing contractors and their unique risks.
          </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {coverageTypes.map((coverage) => (
            <div class="group p-6 bg-offset rounded-2xl border border-default hover:border-primary/50 transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
              <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-cyan-500 to-cyan-600 flex items-center justify-center mb-5 group-hover:scale-110 transition-transform">
                <Icon name={coverage.icon} class="w-7 h-7 text-white" />
              </div>
              <h3 class="text-xl font-bold mb-3">{coverage.title}</h3>
              <p class="text-offset text-sm mb-4">{coverage.description}</p>
              <ul class="space-y-2">
                {coverage.details.map((detail) => (
                  <li class="flex items-center gap-2 text-sm">
                    <Icon name="mdi:check-circle" class="w-4 h-4 text-green-500 flex-shrink-0" />
                    <span>{detail}</span>
                  </li>
                ))}
              </ul>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Arizona Locations Section -->
    <section class="py-24 px-8 bg-offset">
      <div class="max-w-6xl mx-auto">
        <div class="text-center mb-12">
          <h2 class="text-3xl md:text-4xl font-extrabold mb-4">
            Serving Plumbers <span class="text-primary">Across Arizona</span>
          </h2>
          <p class="text-lg text-offset max-w-2xl mx-auto">
            From Phoenix to Flagstaff, we provide coverage wherever you work in Arizona.
          </p>
        </div>
        
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4">
          {arizonaCities.map((city) => (
            <div class="flex items-center justify-center gap-2 p-4 bg-default rounded-xl border border-default hover:border-primary/50 transition-all">
              <Icon name="mdi:map-marker" class="w-4 h-4 text-cyan-500" />
              <span class="font-medium">{city}</span>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="py-24 px-8 bg-default">
      <div class="max-w-4xl mx-auto">
        <div class="text-center mb-16">
          <h2 class="text-3xl md:text-5xl font-extrabold mb-4">
            Plumber Insurance <span class="text-primary">FAQ</span>
          </h2>
        </div>
        
        <div class="space-y-4">
          {faqs.map((faq) => (
            <details class="group bg-offset rounded-xl border border-default overflow-hidden">
              <summary class="flex items-center justify-between p-6 cursor-pointer hover:bg-primary/5 transition-colors">
                <h3 class="font-semibold text-lg pr-4">{faq.question}</h3>
                <Icon name="mdi:chevron-down" class="w-6 h-6 text-primary transition-transform group-open:rotate-180 flex-shrink-0" />
              </summary>
              <div class="px-6 pb-6 text-offset">
                <p>{faq.answer}</p>
              </div>
            </details>
          ))}
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-24 px-8 bg-gradient-to-r from-cyan-600 to-cyan-700">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-3xl md:text-5xl font-extrabold text-white mb-6">
          Protect Your Plumbing Business Today
        </h2>
        <p class="text-xl text-cyan-100 mb-10 max-w-2xl mx-auto">
          Don't let one water damage claim put your business at risk. Get comprehensive plumber insurance and focus on keeping Arizona's pipes flowing.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a 
            href="#quote-form" 
            class="px-8 py-4 bg-white text-cyan-600 font-bold rounded-xl shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300"
            onclick="document.getElementById('quote-form').scrollIntoView({behavior: 'smooth'}); return false;"
          >
            Get Your Free Quote Now
          </a>
          <a 
            href="tel:+16028889289" 
            class="px-8 py-4 border-2 border-white text-white font-semibold rounded-xl hover:bg-white/10 transition-all duration-300 flex items-center justify-center gap-2"
          >
            <Icon name="mdi:phone" class="w-5 h-5" />
            (602) 888-9289
          </a>
        </div>
      </div>
    </section>

    <Footer />
  </body>
</html>
