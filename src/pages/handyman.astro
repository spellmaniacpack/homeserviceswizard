---
import "@fontsource-variable/inter";
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";
import Footer from "~/components/footer.astro";
import Header from "~/components/header.astro";
import logoImage from "~/assets/logo.png";
import handymanHero from "~/assets/handyman-hero.png";
import "~/styles/index.css";

const { generator } = Astro;
const description =
  "Get affordable Handyman Insurance in Arizona. Protect your handyman business with General Liability, Workers' Compensation, and Commercial Auto coverage. Fast quotes, competitive rates!";

const coverageTypes = [
  {
    title: "General Liability Insurance",
    description: "Protects against third-party claims for bodily injury, property damage, and personal injury. Essential for Arizona handymen working in clients' homes.",
    icon: "mdi:shield-home",
    details: ["Property damage coverage", "Bodily injury protection", "Personal & advertising injury", "Legal defense costs"],
  },
  {
    title: "Workers' Compensation",
    description: "Required in Arizona if you have employees. Covers medical expenses and lost wages for work-related injuries.",
    icon: "mdi:account-injury",
    details: ["Medical expenses", "Lost wages", "Rehabilitation costs", "Death benefits"],
  },
  {
    title: "Commercial Auto Insurance",
    description: "Protect your work vehicles and equipment. Covers accidents, theft, and damage to your tools in transit.",
    icon: "mdi:truck",
    details: ["Vehicle damage", "Liability coverage", "Tool & equipment", "Uninsured motorist"],
  },
  {
    title: "Tools & Equipment Coverage",
    description: "Covers repair or replacement of your valuable tools and equipment if stolen, damaged, or destroyed.",
    icon: "mdi:hammer-wrench",
    details: ["Theft protection", "Accidental damage", "Replacement cost", "Portable equipment"],
  },
];

const benefits = [
  { icon: "mdi:clock-fast", text: "Quotes in 5 minutes" },
  { icon: "mdi:certificate", text: "Proof of insurance instantly" },
  { icon: "mdi:cash-multiple", text: "Pay monthly, no fees" },
  { icon: "mdi:headset", text: "Arizona-based support" },
];

const faqs = [
  {
    question: "Do I need handyman insurance in Arizona?",
    answer: "Yes! Arizona requires contractors with licenses to carry liability insurance. Even if your work doesn't require a license, insurance protects you from lawsuits and helps win more clients who require proof of coverage.",
  },
  {
    question: "How much does handyman insurance cost in Arizona?",
    answer: "General liability insurance for Arizona handymen typically costs $400-$1,200 per year, depending on your services, revenue, and coverage limits. Get a personalized quote to see your exact rate.",
  },
  {
    question: "What's the difference between handyman and contractor insurance?",
    answer: "Handyman insurance typically covers smaller, general repairs and maintenance work. If you specialize in one trade (plumbing, electrical) or take on larger projects, you may need contractor-specific coverage with higher limits.",
  },
  {
    question: "Does handyman insurance cover my tools?",
    answer: "Standard general liability doesn't cover your tools. You'll need to add Inland Marine or Tools & Equipment coverage to protect your valuable equipment from theft or damage.",
  },
];

const arizonaCities = [
  "Phoenix", "Tucson", "Mesa", "Chandler", "Scottsdale", "Glendale", 
  "Gilbert", "Tempe", "Peoria", "Surprise", "Goodyear", "Avondale"
];
---

<!doctype html>
<html lang="en" class="h-full motion-safe:scroll-smooth" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <meta name="generator" content={generator} />

    <title>Handyman Insurance Arizona | Get a Free Quote | Home Services Wizard</title>
    <meta name="description" content={description} />
    <meta name="keywords" content="handyman insurance Arizona, handyman liability insurance, Arizona handyman coverage, Phoenix handyman insurance, Tucson handyman insurance" />

    <!-- Open Graph -->
    <meta property="og:title" content="Handyman Insurance Arizona - Fast Quotes, Great Rates" />
    <meta property="og:type" content="website" />
    <meta property="og:description" content={description} />
    <meta property="og:url" content="https://homeserviceswizard.com/handyman" />
    <meta name="twitter:card" content="summary_large_image" />

    <!-- Local Business Schema -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "InsuranceAgency",
        "name": "Home Services Wizard - Handyman Insurance",
        "description": "Handyman insurance provider specializing in Arizona home service professionals",
        "areaServed": "Arizona",
        "url": "https://homeserviceswizard.com/handyman"
      }
    </script>

    <script is:inline>
      const themeSaved = localStorage.getItem("theme");
      if (themeSaved) {
        document.documentElement.dataset.theme = themeSaved;
      } else {
        const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
        document.documentElement.dataset.theme = prefersDark ? "dark" : "light";
      }
    </script>
  </head>
  <body class="h-full overflow-x-hidden bg-default text-default text-base selection:bg-secondary selection:text-white">
    <Header />
    
    <!-- Hero Section -->
    <section class="relative min-h-screen bg-gradient-to-br from-slate-900 via-amber-900/20 to-slate-900 flex items-center overflow-hidden">
      <div class="absolute inset-0 overflow-hidden">
        <div class="absolute top-20 right-10 w-72 h-72 bg-amber-500/20 rounded-full blur-3xl animate-pulse"></div>
        <div class="absolute bottom-20 left-10 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl animate-pulse" style="animation-delay: 1s;"></div>
      </div>
      
      <div class="relative z-10 max-w-7xl mx-auto px-6 py-20 grid lg:grid-cols-2 gap-12 items-center">
        <div>
          <div class="flex items-center gap-3 mb-6">
            <Image src={logoImage} alt="Home Services Wizard" class="w-12 h-12" width={48} height={48} />
            <span class="text-amber-400 font-semibold">Home Services Wizard</span>
          </div>
          
          <div class="inline-flex items-center gap-2 px-4 py-2 bg-amber-500/20 rounded-full text-amber-400 text-sm font-medium mb-6">
            <Icon name="mdi:map-marker" class="w-4 h-4" />
            Serving All of Arizona
          </div>
          
          <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold text-white mb-6 leading-tight">
            <span class="text-amber-400">Handyman Insurance</span>
            <br />
            Built for Arizona Pros
          </h1>
          
          <p class="text-xl text-gray-300 mb-8 leading-relaxed">
            Protect your handyman business with comprehensive coverage tailored for Arizona. 
            Get insured in minutes and focus on what you do best.
          </p>
          
          <div class="flex flex-wrap gap-4 mb-8">
            {benefits.map((benefit) => (
              <div class="flex items-center gap-2 text-gray-300 text-sm">
                <Icon name={benefit.icon} class="w-5 h-5 text-green-400" />
                <span>{benefit.text}</span>
              </div>
            ))}
          </div>

          <!-- Lead Capture Form -->
          <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20">
            <h3 class="text-xl font-bold text-white mb-4">Get Your Free Quote</h3>
            <form id="quote-form" class="space-y-4">
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm text-gray-300 mb-1">Full Name *</label>
                  <input 
                    type="text" 
                    name="fullName"
                    required
                    class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:border-amber-400 transition"
                    placeholder="John Smith"
                  />
                </div>
                <div>
                  <label class="block text-sm text-gray-300 mb-1">Phone Number *</label>
                  <input 
                    type="tel" 
                    name="phone"
                    required
                    class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:border-amber-400 transition"
                    placeholder="(602) 888-9289"
                  />
                </div>
              </div>
              <div>
                <label class="block text-sm text-gray-300 mb-1">Email Address *</label>
                <input 
                  type="email" 
                  name="email"
                  required
                  class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:border-amber-400 transition"
                  placeholder="john@example.com"
                />
              </div>
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm text-gray-300 mb-1">Business Name</label>
                  <input 
                    type="text" 
                    name="businessName"
                    class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:border-amber-400 transition"
                    placeholder="Smith Handyman Services"
                  />
                </div>
                <div>
                  <label class="block text-sm text-gray-300 mb-1">Arizona City *</label>
                  <select 
                    name="city"
                    required
                    class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:border-amber-400 transition"
                  >
                    <option value="" class="bg-gray-900">Select your city</option>
                    {arizonaCities.map((city) => (
                      <option value={city} class="bg-gray-900">{city}</option>
                    ))}
                    <option value="other" class="bg-gray-900">Other Arizona City</option>
                  </select>
                </div>
              </div>
              <div>
                <label class="block text-sm text-gray-300 mb-1">Annual Revenue (estimated)</label>
                <select 
                  name="revenue"
                  class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:border-amber-400 transition"
                >
                  <option value="" class="bg-gray-900">Select range</option>
                  <option value="0-50k" class="bg-gray-900">Under $50,000</option>
                  <option value="50k-100k" class="bg-gray-900">$50,000 - $100,000</option>
                  <option value="100k-250k" class="bg-gray-900">$100,000 - $250,000</option>
                  <option value="250k-500k" class="bg-gray-900">$250,000 - $500,000</option>
                  <option value="500k+" class="bg-gray-900">$500,000+</option>
                </select>
              </div>
              <button 
                type="submit"
                class="w-full py-4 bg-gradient-to-r from-amber-500 to-amber-600 text-white font-bold rounded-lg shadow-lg shadow-amber-500/25 hover:shadow-amber-500/40 hover:scale-[1.02] transition-all duration-300 flex items-center justify-center gap-2"
              >
                <Icon name="mdi:shield-check" class="w-5 h-5" />
                Get My Free Quote
              </button>
              <p class="text-xs text-gray-400 text-center">
                No obligation. Your information is secure and never shared.
              </p>
            </form>
          </div>
        </div>
        
        <div class="hidden lg:block relative">
          <div class="absolute inset-0 bg-gradient-to-t from-slate-900/80 to-transparent z-10 rounded-3xl"></div>
          <Image 
            src={handymanHero} 
            alt="Professional Handyman in Arizona" 
            class="rounded-3xl shadow-2xl shadow-amber-500/20"
            width={600}
            height={600}
          />
          <div class="absolute bottom-8 left-8 right-8 z-20">
            <div class="bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20">
              <div class="flex items-center gap-4">
                <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center">
                  <Icon name="mdi:check" class="w-6 h-6 text-white" />
                </div>
                <div>
                  <p class="text-white font-semibold">Coverage Starting At</p>
                  <p class="text-2xl font-bold text-amber-400">$37/month</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script is:inline>
      const form = document.getElementById('quote-form');
      form?.addEventListener('submit', async (e) => {
        e.preventDefault();
        const formData = new FormData(form);
        const data = Object.fromEntries(formData.entries());
        data.services = formData.getAll('services');
        const button = form.querySelector('button[type="submit"]');
        const originalText = button.innerHTML;
        
        button.disabled = true;
        button.innerHTML = 'Sending...';
        
        try {
          const response = await fetch('/api/submit-quote', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(data),
          });
          
          if (response.ok) {
            button.innerHTML = 'Quote Requested!';
            button.classList.remove('bg-gradient-to-r', 'from-amber-500', 'to-amber-600');
            button.classList.add('bg-green-600');
            form.reset();
            setTimeout(() => {
              button.disabled = false;
              button.innerHTML = originalText;
              button.classList.add('bg-gradient-to-r', 'from-amber-500', 'to-amber-600');
              button.classList.remove('bg-green-600');
            }, 5000);
          } else {
            throw new Error('Failed to send');
          }
        } catch (error) {
          console.error('Error:', error);
          button.innerHTML = 'Error. Please Try Again.';
          button.classList.add('bg-red-600');
          setTimeout(() => {
            button.disabled = false;
            button.innerHTML = originalText;
            button.classList.remove('bg-red-600');
          }, 3000);
        }
      });
    </script>

    <!-- Coverage Types Section -->
    <section id="coverage" class="py-24 px-8 bg-default">
      <div class="max-w-6xl mx-auto">
        <div class="text-center mb-16">
          <h2 class="text-3xl md:text-5xl font-extrabold mb-4">
            Complete <span class="text-primary">Handyman Coverage</span>
          </h2>
          <p class="text-xl text-offset max-w-2xl mx-auto">
            Protect every aspect of your handyman business with our comprehensive insurance packages.
          </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          {coverageTypes.map((coverage) => (
            <div class="group p-8 bg-offset rounded-2xl border border-default hover:border-primary/50 transition-all duration-300 hover:shadow-xl">
              <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-amber-500 to-amber-600 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                <Icon name={coverage.icon} class="w-8 h-8 text-white" />
              </div>
              <h3 class="text-2xl font-bold mb-3">{coverage.title}</h3>
              <p class="text-offset mb-6">{coverage.description}</p>
              <ul class="space-y-2">
                {coverage.details.map((detail) => (
                  <li class="flex items-center gap-2 text-sm">
                    <Icon name="mdi:check-circle" class="w-5 h-5 text-green-500" />
                    <span>{detail}</span>
                  </li>
                ))}
              </ul>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Arizona Focus Section -->
    <section class="py-24 px-8 bg-offset">
      <div class="max-w-6xl mx-auto">
        <div class="grid lg:grid-cols-2 gap-12 items-center">
          <div>
            <h2 class="text-3xl md:text-4xl font-extrabold mb-6">
              Serving Handymen <span class="text-primary">Across Arizona</span>
            </h2>
            <p class="text-lg text-offset mb-6 leading-relaxed">
              From the bustling streets of Phoenix to the scenic landscapes of Sedona, 
              we understand the unique challenges Arizona handymen face. Our coverage is 
              tailored to protect you whether you're working on residential repairs in 
              Scottsdale or commercial projects in Tucson.
            </p>
            <div class="grid grid-cols-3 gap-4">
              {arizonaCities.map((city) => (
                <div class="flex items-center gap-2 text-sm">
                  <Icon name="mdi:map-marker" class="w-4 h-4 text-amber-500" />
                  <span>{city}</span>
                </div>
              ))}
            </div>
          </div>
          <div class="bg-gradient-to-br from-amber-500/20 to-blue-500/20 rounded-3xl p-8 border border-default">
            <h3 class="text-2xl font-bold mb-6">Arizona Requirements</h3>
            <div class="space-y-4">
              <div class="flex items-start gap-4">
                <div class="w-10 h-10 rounded-full bg-amber-500/20 flex items-center justify-center mt-1">
                  <Icon name="mdi:gavel" class="w-5 h-5 text-amber-500" />
                </div>
                <div>
                  <h4 class="font-semibold mb-1">ROC License Requirements</h4>
                  <p class="text-sm text-offset">Projects over $1,000 typically require a contractor's license and insurance.</p>
                </div>
              </div>
              <div class="flex items-start gap-4">
                <div class="w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center mt-1">
                  <Icon name="mdi:account-group" class="w-5 h-5 text-blue-500" />
                </div>
                <div>
                  <h4 class="font-semibold mb-1">Workers' Comp</h4>
                  <p class="text-sm text-offset">Required if you have any employees in Arizona.</p>
                </div>
              </div>
              <div class="flex items-start gap-4">
                <div class="w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center mt-1">
                  <Icon name="mdi:shield" class="w-5 h-5 text-green-500" />
                </div>
                <div>
                  <h4 class="font-semibold mb-1">Liability Minimums</h4>
                  <p class="text-sm text-offset">Most clients require at least $1M in general liability coverage.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="py-24 px-8 bg-default">
      <div class="max-w-4xl mx-auto">
        <div class="text-center mb-16">
          <h2 class="text-3xl md:text-5xl font-extrabold mb-4">
            Frequently Asked <span class="text-primary">Questions</span>
          </h2>
        </div>
        
        <div class="space-y-4">
          {faqs.map((faq, index) => (
            <details class="group bg-offset rounded-xl border border-default overflow-hidden">
              <summary class="flex items-center justify-between p-6 cursor-pointer hover:bg-primary/5 transition-colors">
                <h3 class="font-semibold text-lg pr-4">{faq.question}</h3>
                <Icon name="mdi:chevron-down" class="w-6 h-6 text-primary transition-transform group-open:rotate-180" />
              </summary>
              <div class="px-6 pb-6 text-offset">
                <p>{faq.answer}</p>
              </div>
            </details>
          ))}
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-24 px-8 bg-gradient-to-r from-amber-600 to-amber-700">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-3xl md:text-5xl font-extrabold text-white mb-6">
          Ready to Protect Your Handyman Business?
        </h2>
        <p class="text-xl text-amber-100 mb-10 max-w-2xl mx-auto">
          Join hundreds of Arizona handymen who trust Home Services Wizard for their insurance needs. Get your free quote today!
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a 
            href="#quote-form" 
            class="px-8 py-4 bg-white text-amber-600 font-bold rounded-xl shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300"
            onclick="document.getElementById('quote-form').scrollIntoView({behavior: 'smooth'}); return false;"
          >
            Get Your Free Quote Now
          </a>
          <a 
            href="tel:+16028889289" 
            class="px-8 py-4 border-2 border-white text-white font-semibold rounded-xl hover:bg-white/10 transition-all duration-300 flex items-center justify-center gap-2"
          >
            <Icon name="mdi:phone" class="w-5 h-5" />
            (602) 888-9289
          </a>
        </div>
      </div>
    </section>

    <Footer />
  </body>
</html>
